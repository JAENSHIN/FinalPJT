<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상권정보 제공</title>
    <link rel="stylesheet" th:href="@{/css/header_style.css}">
    <link rel="stylesheet" th:href="@{/css/map_style.css}">
    <link rel="stylesheet" th:href="@{/css/popup_style.css}">
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=8af3e76805958091967c773fd3ae99cf&libraries=clusterer,services"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
	<script type="module" th:src="@{/js/core/map.js}" defer></script>
	<script type="module" th:src="@{/js/features/addressSearch.js}" defer></script>
</head>
<body>
    <div th:replace="header :: header"></div>

    <div id="content">
    <div id="sidebar">
        <div id="sidebar-buttons">
            <button id="business-info-btn" onclick="('business')">상권정보</button>
            <button id="population-info-btn" onclick="('population')">인구정보</button>
            <button id="AI-recommand-btn" onclick="('recommand')">AI 추천 서비스</button>
            
        </div>
        <!-- 사이드바 내용 섹션 -->
        <div id="business-info-section" class="sidebar-content">
            <div class="heading">
        		<img src="./images/check.png" alt="아이콘" class="icon">
        		<h2>상권 분석</h2>
    		</div>
            <div class="sidebar-content">
                <input type="text" id="address" placeholder="주소를 입력하세요">
                <button id="searchButton">검색</button>
                <ul id="searchResults" class="search-results"></ul>
            </div>
            <div class="chart">
                <div class="heading">
            	<img src="./images/check.png" alt="아이콘" class="icon">
            	<h3> 주변 상권 분석</h3>
            	</div>
                <canvas id="industryChart" style="width: 100%; height: 300px;"></canvas>
            </div>
            <div class="chart">
             <div class="heading">
            	<img src="./images/check.png" alt="아이콘" class="icon">
                <h3> 상권 주변 사업체 현황 </h3>
            </div>
                <canvas id="ksicChart" style="width: 100%; height: 300px;"></canvas>
            </div>
        </div>
        <div id="population-info-section" class="sidebar-content" style="display: none;">
        	<div class="heading">
        		<img src="./images/check2.png" alt="아이콘" class="icon">
 				<h2>인구 분석</h2>
        	</div>
            <div class="heading">
            	<img src="./images/check2.png" alt="아이콘" class="icon">
                <h3>연령대별 인구</h3>
            </div>
            <canvas id="populationchart" style="width: 100%; max-width: 600px; height: 400px;"></canvas>
            <div class="heading">
            	<img src="./images/check2.png" alt="아이콘" class="icon">
                <h3>성별 인구 비율</h3>
            </div>
            <canvas id="genderChart" style="width: 100%; max-width: 500px; height: 300px;"></canvas>
        </div>
        <div id="ai-recommand-section" class="sidebar-content" style="display: none;">
    		<div class="heading">
        	<img src="./images/check3.png" alt="아이콘" class="icon">
        	<h2>AI 추천 서비스</h2>
        	<img src="./images/Q.png" alt="아이콘" class="inform">
        	<div class="gpt-text">gpt-4</div>
        	<div id="loadingIcon" style="display: none;">
    			<img src="./images/loading.gif" alt="로딩 중..." />
			</div>
    		</div>
    		<ul id="aiIdeaList"></ul> <!-- AI 추천된 아이템을 표시할 리스트 -->
		</div>
    </div>

    <div id="map" style="width:100%;height:auto;"></div>
</div>   

<script type="module" th:src="@{/js/ui/sidebar-toggle.js}"></script>


</body>
</html>
