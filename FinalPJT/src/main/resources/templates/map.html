<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>지도 예제</title>
    <link rel="stylesheet" th:href="@{/css/map_style.css}">
    <link rel="stylesheet" th:href="@{/css/header_style.css}">
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=53058506472e68663c191f4ba75fc7b0&libraries=clusterer,services"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script type="module" th:src="@{/js/api.js}"></script>
	<script type="module" th:src="@{/js/map.js}"></script>
	<script type="module" th:src="@{/js/addressSearch.js}"></script>
	<script type="module" th:src="@{/js/reverseGeo.js}"></script>
	<script type="module" th:src="@{/js/pplsummary.js}"></script>
	<script type="module" th:src="@{/js/populationChart.js}"></script>
</head>
<body>
    <div th:replace="header :: header"></div>

    <div id="content">
        <div id="sidebar">
        <div id="sidebar-buttons">
            <button id="business-info-btn">상권정보</button>
            <button id="population-info-btn">인구정보</button>
        </div>
        <!-- 사이드바 내용 섹션 -->
        <div id="business-info-section" class="sidebar-content">
            <h2>상권 분석</h2>
            <div>
                <label for="address">주소 검색:</label>
                <input type="text" id="address" placeholder="주소를 입력하세요">
                <button id="searchButton">검색</button>
                <ul id="searchResults" class="search-results"></ul>
            </div>
            <div class="chart">
                <h3>일반 업종 그룹 분석</h3>
                <canvas id="industryChart" style="width: 100%; height: 300px;"></canvas>
            </div>
            <div class="chart">
                <h3>기업 그룹 분석</h3>
                <canvas id="ksicChart" style="width: 100%; height: 300px;"></canvas>
            </div>
        </div>
        <div id="population-info-section" class="sidebar-content" style="display: none;">
            <h2>인구 분석</h2>
    		<div>
        		<h3>연령대별 인구</h3>
        		<canvas id="populationchart" width="400" height="400"></canvas>
    		</div>
    		<div>
        		<h3>성별 인구 비율</h3>
        		<canvas id="genderChart" width="400" height="200"></canvas>
    		</div>        
    	</div>
           
        </div>
        
        <div id="business-list"></div> 

        <div id="map" style="width:100%;height:auto;"></div>
    </div>   
</body>
</html>
